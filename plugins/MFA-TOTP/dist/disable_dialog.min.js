(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=jQuery;var o=e.n(t);const r=document.createElement("template");r.innerHTML='<div class="row"><div class="col-12"><div class="alert" role="alert"></div></div></div>';const n=document.querySelector("form"),l=document.querySelector("#cancel"),d=document.querySelector("#close"),a=document.querySelector("#delete"),c=document.querySelector("#mfa-totp-token"),s=document.querySelector("#magic-token");c.addEventListener("input",(()=>{a.disabled=c.value.length<6})),a.addEventListener("click",(()=>{document.querySelectorAll(".alert").forEach((e=>e.remove())),o().ajax({type:"POST",url:window.ScriptURI,data:{__mode:"mfa_totp_disable",mfa_totp_token:c.value,magic_token:s.value}}).then((function(e){var t;let{error:o}=e;o?(!function(e,t){var o;const n=r.content.cloneNode(!0),l=n.querySelector(".alert");l.textContent=e,l.classList.add("alert-danger");const d=document.querySelector(".modal-body");null==d||d.insertBefore(n,d.firstChild),null===(o=window.top)||void 0===o||o.jQuery(".mt-modal").trigger("resize")}(o),document.createElement("template")):(n.classList.add("d-none"),null===(t=document.querySelector("#deleted-message"))||void 0===t||t.classList.remove("d-none"),a.disabled=!0,a.classList.add("d-none"),l.classList.add("d-none"),d.classList.remove("d-none"),d.focus())}))})),n.addEventListener("submit",(e=>{e.preventDefault(),a.disabled||a.click()}))})();