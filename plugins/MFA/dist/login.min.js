(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=jQuery;var r=e.n(t);const n=document.querySelector("form");let o=!1;n.addEventListener("submit",(e=>{o||(e.preventDefault(),function(){const e={};n.querySelectorAll("input").forEach((t=>{e[t.name]=t.value})),e.__mode="mfa_login_form",r().ajax({type:"POST",url:n.action,data:e,dataType:"json"}).then((e=>{var t,r;let{error:l,result:c}=e;if(l){var a;document.querySelectorAll(".alert").forEach((e=>e.remove())),n.reset();const e=document.createElement("template");e.innerHTML='<div class="row"><div class="col-12"><div class="alert alert-danger" role="alert"></div></div></div>',e.content.querySelector(".alert").textContent=l;const t=document.querySelector("#msg-block");return void(null==t||null===(a=t.parentElement)||void 0===a||a.insertBefore(e.content,t.nextSibling))}const{html:d,scripts:s}=c||{};if(!(d||s&&0!==s.length))return void n.submit();o=!0;const u="#username-field, #password-field, #remember-me, #remember-me + div";document.querySelectorAll(u).forEach((e=>e.classList.add("d-none")));const i=document.createElement("div");i.innerHTML=d||"",null===(t=i.querySelector("#mfa-cancel"))||void 0===t||t.addEventListener("click",(()=>{i.remove(),o=!1,document.querySelectorAll(u).forEach((e=>e.classList.remove("d-none")))}));const m=document.querySelector("#password-field");null==m||null===(r=m.parentElement)||void 0===r||r.insertBefore(i,m.nextSibling);const v=i.querySelector("input");v&&v.focus(),(s||[]).forEach((e=>{if(document.querySelector(`script[src="${e}"]`))return;const t=document.createElement("script");t.type="module",t.src=e,document.body.appendChild(t)}))}))}())}))})();